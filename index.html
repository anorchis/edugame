<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마법천자문: 8급 한자 수호대</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-gray-900 overflow-hidden select-none">

    <!-- Game Container -->
    <div id="game-container" class="relative w-full h-screen mx-auto max-w-7xl bg-black shadow-2xl overflow-hidden">
        
        <!-- Background Layer -->
        <div id="background-layer" class="absolute inset-0 bg-cover bg-center transition-all duration-500" style="background-image: url('img/bg.png');"></div>

        <!-- Canvas Layer (For later stages) -->
        <canvas id="game-canvas" class="absolute inset-0 block w-full h-full opacity-0 pointer-events-none"></canvas>

        <!-- UI Layer -->
        <div id="ui-layer" class="absolute inset-0 flex flex-col items-center justify-center z-10">
            
            <!-- Start Screen Overlay -->
            <div id="start-screen" class="absolute inset-0 z-50 flex flex-col items-center justify-center cursor-pointer bg-black/10 hover:bg-black/20 transition-colors">
                <div class="text-center animate-pulse">
                    <h1 class="text-6xl font-extrabold text-white drop-shadow-[0_5px_5px_rgba(0,0,0,0.8)] mb-4 tracking-wider">
                        마법천자문<br>
                        <span class="text-yellow-400 text-5xl">8급 한자 수호대</span>
                    </h1>
                    <p class="text-2xl text-white mt-8 bg-black/50 px-6 py-2 rounded-full inline-block backdrop-blur-sm border border-white/30">
                        화면을 클릭하여 시작하세요
                    </p>
                </div>
            </div>

            <!-- Dialogue Box (Hidden initially) -->
            <div id="dialogue-box" class="hidden absolute bottom-10 left-10 right-10 bg-black/80 border-4 border-white rounded-xl p-6 min-h-[150px] flex flex-col justify-start items-start">
                <p id="dialogue-text" class="text-2xl text-white font-mono leading-relaxed"></p>
                <div id="dialogue-indicator" class="self-end text-yellow-400 animate-bounce mt-auto hidden">▼</div>
            </div>

            <!-- Skip Button (Hidden initially) -->
            <button id="skip-button" class="hidden absolute top-5 right-5 bg-white/20 hover:bg-white/40 text-white font-bold py-2 px-4 rounded-full border border-white/50 backdrop-blur-sm transition-all z-50">
                SKIP >>
            </button>

            <!-- Auth Overlay (Hidden initially, shown after intro dialogue) -->
            <div id="auth-overlay" class="hidden absolute inset-0 z-40 flex flex-col items-center justify-center">
                <!-- Auth Container (Shadcn UI Style) -->
                <div id="auth-container" class="w-full max-w-[316px] bg-zinc-950 border border-zinc-800 rounded-xl p-4 shadow-lg relative transform -translate-y-8 font-sans">
                    
                    <div class="relative z-10">
                        <!-- Main Menu -->
                        <div id="auth-menu" class="flex flex-col gap-6">
                            <div class="flex flex-col space-y-2 text-center">
                                <h1 class="text-2xl font-semibold tracking-tight text-white">마법천자문</h1>
                                <p class="text-sm text-zinc-400">8급 한자 수호대에 오신 것을 환영합니다</p>
                            </div>
                            
                            <div class="grid gap-4">
                                <button id="btn-show-login" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-300 disabled:pointer-events-none disabled:opacity-50 bg-zinc-50 text-zinc-900 shadow hover:bg-zinc-50/90 h-9 px-4 py-2">
                                    로그인
                                </button>
                                <button id="btn-show-signup" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-300 disabled:pointer-events-none disabled:opacity-50 border border-zinc-800 bg-transparent shadow-sm hover:bg-zinc-800 hover:text-zinc-50 h-9 px-4 py-2 text-zinc-50">
                                    회원가입
                                </button>
                            </div>
                        </div>

                        <!-- Login Form -->
                        <div id="login-form" class="hidden flex flex-col gap-6">
                            <div class="flex flex-col space-y-2 text-center">
                                <h1 class="text-2xl font-semibold tracking-tight text-white">로그인</h1>
                                <p class="text-sm text-zinc-400">계정 정보를 입력해주세요</p>
                            </div>
                            
                            <div class="grid gap-4">
                                <div class="grid gap-2">
                                    <label class="text-sm font-medium leading-none text-zinc-50" for="login-id">아이디</label>
                                    <input type="text" id="login-id" placeholder="아이디" class="flex h-9 w-full rounded-md border border-zinc-800 bg-transparent px-3 py-1 text-sm text-zinc-50 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-300 disabled:cursor-not-allowed disabled:opacity-50">
                                </div>
                                <div class="grid gap-2">
                                    <label class="text-sm font-medium leading-none text-zinc-50" for="login-pw">비밀번호</label>
                                    <input type="password" id="login-pw" class="flex h-9 w-full rounded-md border border-zinc-800 bg-transparent px-3 py-1 text-sm text-zinc-50 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-300 disabled:cursor-not-allowed disabled:opacity-50">
                                </div>
                                <button id="btn-login-submit" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-300 disabled:pointer-events-none disabled:opacity-50 bg-zinc-50 text-zinc-900 shadow hover:bg-zinc-50/90 h-9 px-4 py-2 mt-2">
                                    접속하기
                                </button>
                            </div>
                            
                            <button class="btn-back text-sm text-zinc-400 hover:text-zinc-50 underline-offset-4 hover:underline text-center">
                                뒤로가기
                            </button>
                        </div>

                        <!-- Signup Form -->
                        <div id="signup-form" class="hidden flex flex-col gap-6">
                            <div class="flex flex-col space-y-2 text-center">
                                <h1 class="text-2xl font-semibold tracking-tight text-white">회원가입</h1>
                                <p class="text-sm text-zinc-400">새로운 계정을 생성합니다</p>
                            </div>

                            <div class="grid gap-4">
                                <div class="grid gap-2">
                                    <label class="text-sm font-medium leading-none text-zinc-50" for="signup-id">새 아이디</label>
                                    <input type="text" id="signup-id" placeholder="아이디" class="flex h-9 w-full rounded-md border border-zinc-800 bg-transparent px-3 py-1 text-sm text-zinc-50 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-300 disabled:cursor-not-allowed disabled:opacity-50">
                                </div>
                                <div class="grid gap-2">
                                    <label class="text-sm font-medium leading-none text-zinc-50" for="signup-pw">새 비밀번호</label>
                                    <input type="password" id="signup-pw" class="flex h-9 w-full rounded-md border border-zinc-800 bg-transparent px-3 py-1 text-sm text-zinc-50 shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-300 disabled:cursor-not-allowed disabled:opacity-50">
                                </div>
                                <button id="btn-signup-submit" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-300 disabled:pointer-events-none disabled:opacity-50 bg-zinc-50 text-zinc-900 shadow hover:bg-zinc-50/90 h-9 px-4 py-2 mt-2">
                                    가입하기
                                </button>
                            </div>
                            
                            <button class="btn-back text-sm text-zinc-400 hover:text-zinc-50 underline-offset-4 hover:underline text-center">
                                뒤로가기
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Game View Overlay (Hidden initially, shown after login) -->
            <div id="game-view" class="hidden absolute inset-0 z-30 flex items-center justify-center">
                <!-- Mini Game Container -->
                <div class="relative w-[627px] h-[244px] border-4 border-zinc-800 rounded-xl shadow-2xl overflow-hidden bg-black transform -translate-y-8">
                    <!-- Game Background -->
                    <div class="absolute inset-0 bg-cover bg-center" style="background-image: url('img/bg4.png');"></div>
                    
                    <!-- Player Character -->
                    <img src="img/run1.png" alt="Player" class="absolute bottom-10 left-10 w-20 h-auto filter drop-shadow-lg z-10">
                    
                    <!-- NPC: Bori Dosa -->
                    <img id="npc-bori" src="img/bori.png" alt="Bori Dosa" class="absolute bottom-10 right-[161px] w-24 h-auto filter drop-shadow-lg z-0 animate-float">

                    <!-- Game UI Overlay (Example: Score, Level) -->
                    <div class="absolute top-4 left-4 text-white font-mono text-xl drop-shadow-md">
                        LEVEL <span id="game-level-display">1</span>
                    </div>
                </div>
            </div>

            <!-- Dialogue Box (Hidden initially) -->
            <div id="dialogue-box" class="hidden absolute bottom-10 left-10 right-10 bg-black/80 border-4 border-white rounded-xl p-6 min-h-[150px] flex flex-col justify-start items-start">
                <p id="dialogue-text" class="text-2xl text-white font-mono leading-relaxed"></p>
                <div id="dialogue-indicator" class="self-end text-yellow-400 animate-bounce mt-auto hidden">▼</div>
            </div>

            <!-- Skip Button (Hidden initially) -->
            <button id="skip-button" class="hidden absolute top-5 right-5 bg-white/20 hover:bg-white/40 text-white font-bold py-2 px-4 rounded-full border border-white/50 backdrop-blur-sm transition-all z-50">
                SKIP >>
            </button>

        </div>

    </div>

    <script type="module" src="main.js"></script>
</body>
</html>